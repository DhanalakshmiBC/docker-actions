name: deepu-work
on: push
env:
    Node_Version: '18'
jobs:
    build:
        runs-on: ubuntu-latest
        steps:
        - name: checkout-code
          uses: actions/checkout@v3
        
        - name: setup-node
          uses: actions/setup-node@v3
          with: 
            node-version: ${{ env.Node_Version}}
            cache: 'npm'

    deploy:
        runs-on: ubuntu-latest
        steps:
        - name: docker login
          run: echo "${{ secrets.DOCKER_PASSWORD}}" | docker login -u "${{ secrets.DOCKER_USERNAME}}" --password-stdin
               docker build -t deepik89/node-app:latest .
               docker push deepik89/node-app:latest
    

